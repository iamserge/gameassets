var App = App || {};
App.Global = App.Global || {};

App.Global.Ajax = function() {};

function getResponse(request) {
  if (request.responseXML && request.responseXML.documentElement) {
    return request.responseXML.documentElement;
  } else {
    return request.responseText;
  }
}

App.Global.Ajax.prototype.getData = function(method, url, options, callback) {
  var data = {},
    request;

  if (options.test) {
    // for testing
    var response = {};

    response.status = 200;

    if (options.test == 'test-1') {
      response.content = '{"mint":{"lowestPrice":1.1,"total":13},"preOwned":{"lowestPrice":1.28,"total":12},"mintItems":[{"provenance":"Mint","totalPrice":104.33,"unitPrice":101.2,"vendorRating":4,"vendorShopName":"mirakl0007","published":true,"vendorNumberOfRatings":88,"availableQuantity":100,"deliveryPrice":3.13,"catEntryId":173810,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0007","partNumber":"997083-0007","premiumVendor":false},{"provenance":"Mint","totalPrice":1.6,"unitPrice":1.1,"vendorRating":2,"vendorShopName":"mirakl0008","published":true,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":0.5,"catEntryId":173811,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0008","partNumber":"997083-0008","premiumVendor":false},{"provenance":"Mint","totalPrice":42.0,"unitPrice":41.2,"vendorRating":1,"vendorShopName":"mirakl0009","published":true,"vendorNumberOfRatings":101,"availableQuantity":100,"deliveryPrice":0.8,"catEntryId":173812,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0009","partNumber":"997083-0009","premiumVendor":false},{"provenance":"Mint","totalPrice":1.1,"unitPrice":1.1,"vendorRating":0,"vendorShopName":"mirakl0010","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173813,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0010","partNumber":"997083-0010","premiumVendor":false},{"provenance":"Mint","totalPrice":2.4,"unitPrice":1.2,"vendorRating":5,"vendorShopName":"mirakl0011","published":true,"vendorNumberOfRatings":22,"availableQuantity":100,"deliveryPrice":1.2,"catEntryId":173814,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0011","partNumber":"997083-0011","premiumVendor":false},{"provenance":"Mint","totalPrice":null,"unitPrice":null,"vendorRating":0,"vendorShopName":"mirakl0001","published":true,"vendorNumberOfRatings":0,"availableQuantity":null,"deliveryPrice":null,"catEntryId":173804,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0001","partNumber":"997083-0001","premiumVendor":false},{"provenance":"Mint","totalPrice":5.3,"unitPrice":1.1,"vendorRating":4,"vendorShopName":"mirakl0012","published":true,"vendorNumberOfRatings":81,"availableQuantity":100,"deliveryPrice":4.2,"catEntryId":173815,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0012","partNumber":"997083-0012","premiumVendor":false},{"provenance":"Mint","totalPrice":91.2,"unitPrice":91.1,"vendorRating":1,"vendorShopName":"mirakl0002","published":true,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173805,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0002","partNumber":"997083-0002","premiumVendor":true},{"provenance":"Mint","totalPrice":7.34,"unitPrice":1.2,"vendorRating":3,"vendorShopName":"mirakl0013","published":true,"vendorNumberOfRatings":19,"availableQuantity":100,"deliveryPrice":6.14,"catEntryId":173816,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0013","partNumber":"997083-0013","premiumVendor":false},{"provenance":"Mint","totalPrice":1.49,"unitPrice":1.2,"vendorRating":2,"vendorShopName":"mirakl0003","published":true,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173806,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0003","partNumber":"997083-0003","premiumVendor":false},{"provenance":"Mint","totalPrice":11.23,"unitPrice":11.1,"vendorRating":3,"vendorShopName":"mirakl0004","published":true,"vendorNumberOfRatings":99,"availableQuantity":100,"deliveryPrice":0.13,"catEntryId":173807,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0004","partNumber":"997083-0004","premiumVendor":false},{"provenance":"Mint","totalPrice":2.71,"unitPrice":1.2,"vendorRating":4,"vendorShopName":"mirakl0005","published":true,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":1.51,"catEntryId":173808,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0005","partNumber":"997083-0005","premiumVendor":false},{"provenance":"Mint","totalPrice":4.09,"unitPrice":1.1,"vendorRating":5,"vendorShopName":"mirakl0006","published":true,"vendorNumberOfRatings":13,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173809,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0006","partNumber":"997083-0006","premiumVendor":false}],"preOwnedItems":[{"provenance":"PreOwned","totalPrice":8.28,"unitPrice":3.99,"vendorRating":3,"vendorShopName":"mirakl0018","published":true,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":4.29,"catEntryId":173821,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0018","partNumber":"997083-0018","premiumVendor":false},{"provenance":"PreOwned","totalPrice":208.49,"unitPrice":207.39,"vendorRating":1,"vendorShopName":"mirakl0019","published":true,"vendorNumberOfRatings":77,"availableQuantity":100,"deliveryPrice":1.1,"catEntryId":173822,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0019","partNumber":"997083-0019","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.99,"unitPrice":7.5,"vendorRating":0,"vendorShopName":"mirakl0020","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.49,"catEntryId":173823,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0020","partNumber":"997083-0020","premiumVendor":false},{"provenance":"PreOwned","totalPrice":52.5,"unitPrice":50.0,"vendorRating":2,"vendorShopName":"mirakl0021","published":true,"vendorNumberOfRatings":155,"availableQuantity":100,"deliveryPrice":2.5,"catEntryId":173824,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0021","partNumber":"997083-0021","premiumVendor":false},{"provenance":"PreOwned","totalPrice":5.99,"unitPrice":2.99,"vendorRating":2,"vendorShopName":"mirakl0022","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":3.0,"catEntryId":173825,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0022","partNumber":"997083-0022","premiumVendor":false},{"provenance":"PreOwned","totalPrice":24.98,"unitPrice":9.99,"vendorRating":3,"vendorShopName":"mirakl0023","published":true,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":14.99,"catEntryId":173826,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0023","partNumber":"997083-0023","premiumVendor":false},{"provenance":"PreOwned","totalPrice":2.0,"unitPrice":2.0,"vendorRating":5,"vendorShopName":"mirakl0024","published":true,"vendorNumberOfRatings":18,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173827,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0024","partNumber":"997083-0024","premiumVendor":false},{"provenance":"PreOwned","totalPrice":6.99,"unitPrice":6.99,"vendorRating":6,"vendorShopName":"mirakl0025","published":true,"vendorNumberOfRatings":23,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173828,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0025","partNumber":"997083-0025","premiumVendor":false},{"provenance":"PreOwned","totalPrice":51.2,"unitPrice":51.1,"vendorRating":1,"vendorShopName":"mirakl0014","published":true,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173817,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0014","partNumber":"997083-0014","premiumVendor":true},{"provenance":"PreOwned","totalPrice":1.28,"unitPrice":0.99,"vendorRating":2,"vendorShopName":"mirakl0015","published":true,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173818,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0015","partNumber":"997083-0015","premiumVendor":false},{"provenance":"PreOwned","totalPrice":9.87,"unitPrice":8.1,"vendorRating":5,"vendorShopName":"mirakl0016","published":true,"vendorNumberOfRatings":259,"availableQuantity":100,"deliveryPrice":1.77,"catEntryId":173819,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0016","partNumber":"997083-0016","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.98,"unitPrice":4.99,"vendorRating":2,"vendorShopName":"mirakl0017","published":true,"vendorNumberOfRatings":16,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173820,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0017","partNumber":"997083-0017","premiumVendor":false}]}';
    } else if (options.test == 'test-2') {
      response.content = '{"mint":{"lowestPrice":1.1,"total":0},"preOwned":{"lowestPrice":1.28,"total":12},"mintItems":[{"provenance":"Mint","totalPrice":104.33,"unitPrice":101.2,"vendorRating":4,"vendorShopName":"mirakl0007","published":false,"vendorNumberOfRatings":88,"availableQuantity":100,"deliveryPrice":3.13,"catEntryId":173810,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0007","partNumber":"997083-0007","premiumVendor":false},{"provenance":"Mint","totalPrice":1.6,"unitPrice":1.1,"vendorRating":2,"vendorShopName":"mirakl0008","published":false,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":0.5,"catEntryId":173811,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0008","partNumber":"997083-0008","premiumVendor":false},{"provenance":"Mint","totalPrice":42.0,"unitPrice":41.2,"vendorRating":1,"vendorShopName":"mirakl0009","published":false,"vendorNumberOfRatings":101,"availableQuantity":100,"deliveryPrice":0.8,"catEntryId":173812,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0009","partNumber":"997083-0009","premiumVendor":false},{"provenance":"Mint","totalPrice":1.1,"unitPrice":1.1,"vendorRating":0,"vendorShopName":"mirakl0010","published":false,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173813,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0010","partNumber":"997083-0010","premiumVendor":false},{"provenance":"Mint","totalPrice":2.4,"unitPrice":1.2,"vendorRating":5,"vendorShopName":"mirakl0011","published":false,"vendorNumberOfRatings":22,"availableQuantity":100,"deliveryPrice":1.2,"catEntryId":173814,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0011","partNumber":"997083-0011","premiumVendor":false},{"provenance":"Mint","totalPrice":null,"unitPrice":null,"vendorRating":0,"vendorShopName":"mirakl0001","published":false,"vendorNumberOfRatings":0,"availableQuantity":null,"deliveryPrice":null,"catEntryId":173804,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0001","partNumber":"997083-0001","premiumVendor":false},{"provenance":"Mint","totalPrice":5.3,"unitPrice":1.1,"vendorRating":4,"vendorShopName":"mirakl0012","published":false,"vendorNumberOfRatings":81,"availableQuantity":100,"deliveryPrice":4.2,"catEntryId":173815,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0012","partNumber":"997083-0012","premiumVendor":false},{"provenance":"Mint","totalPrice":91.2,"unitPrice":91.1,"vendorRating":1,"vendorShopName":"mirakl0002","published":false,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173805,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0002","partNumber":"997083-0002","premiumVendor":true},{"provenance":"Mint","totalPrice":7.34,"unitPrice":1.2,"vendorRating":3,"vendorShopName":"mirakl0013","published":false,"vendorNumberOfRatings":19,"availableQuantity":100,"deliveryPrice":6.14,"catEntryId":173816,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0013","partNumber":"997083-0013","premiumVendor":false},{"provenance":"Mint","totalPrice":1.49,"unitPrice":1.2,"vendorRating":2,"vendorShopName":"mirakl0003","published":false,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173806,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0003","partNumber":"997083-0003","premiumVendor":false},{"provenance":"Mint","totalPrice":11.23,"unitPrice":11.1,"vendorRating":3,"vendorShopName":"mirakl0004","published":false,"vendorNumberOfRatings":99,"availableQuantity":100,"deliveryPrice":0.13,"catEntryId":173807,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0004","partNumber":"997083-0004","premiumVendor":false},{"provenance":"Mint","totalPrice":2.71,"unitPrice":1.2,"vendorRating":4,"vendorShopName":"mirakl0005","published":false,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":1.51,"catEntryId":173808,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0005","partNumber":"997083-0005","premiumVendor":false},{"provenance":"Mint","totalPrice":4.09,"unitPrice":1.1,"vendorRating":5,"vendorShopName":"mirakl0006","published":false,"vendorNumberOfRatings":13,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173809,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0006","partNumber":"997083-0006","premiumVendor":false}],"preOwnedItems":[{"provenance":"PreOwned","totalPrice":8.28,"unitPrice":3.99,"vendorRating":3,"vendorShopName":"mirakl0018","published":true,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":4.29,"catEntryId":173821,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0018","partNumber":"997083-0018","premiumVendor":false},{"provenance":"PreOwned","totalPrice":208.49,"unitPrice":207.39,"vendorRating":1,"vendorShopName":"mirakl0019","published":true,"vendorNumberOfRatings":77,"availableQuantity":100,"deliveryPrice":1.1,"catEntryId":173822,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0019","partNumber":"997083-0019","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.99,"unitPrice":7.5,"vendorRating":0,"vendorShopName":"mirakl0020","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.49,"catEntryId":173823,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0020","partNumber":"997083-0020","premiumVendor":false},{"provenance":"PreOwned","totalPrice":52.5,"unitPrice":50.0,"vendorRating":2,"vendorShopName":"mirakl0021","published":true,"vendorNumberOfRatings":155,"availableQuantity":100,"deliveryPrice":2.5,"catEntryId":173824,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0021","partNumber":"997083-0021","premiumVendor":false},{"provenance":"PreOwned","totalPrice":5.99,"unitPrice":2.99,"vendorRating":2,"vendorShopName":"mirakl0022","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":3.0,"catEntryId":173825,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0022","partNumber":"997083-0022","premiumVendor":false},{"provenance":"PreOwned","totalPrice":24.98,"unitPrice":9.99,"vendorRating":3,"vendorShopName":"mirakl0023","published":true,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":14.99,"catEntryId":173826,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0023","partNumber":"997083-0023","premiumVendor":false},{"provenance":"PreOwned","totalPrice":2.0,"unitPrice":2.0,"vendorRating":5,"vendorShopName":"mirakl0024","published":true,"vendorNumberOfRatings":18,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173827,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0024","partNumber":"997083-0024","premiumVendor":false},{"provenance":"PreOwned","totalPrice":6.99,"unitPrice":6.99,"vendorRating":6,"vendorShopName":"mirakl0025","published":true,"vendorNumberOfRatings":23,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173828,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0025","partNumber":"997083-0025","premiumVendor":false},{"provenance":"PreOwned","totalPrice":51.2,"unitPrice":51.1,"vendorRating":1,"vendorShopName":"mirakl0014","published":true,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173817,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0014","partNumber":"997083-0014","premiumVendor":true},{"provenance":"PreOwned","totalPrice":1.28,"unitPrice":0.99,"vendorRating":2,"vendorShopName":"mirakl0015","published":true,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173818,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0015","partNumber":"997083-0015","premiumVendor":false},{"provenance":"PreOwned","totalPrice":9.87,"unitPrice":8.1,"vendorRating":5,"vendorShopName":"mirakl0016","published":true,"vendorNumberOfRatings":259,"availableQuantity":100,"deliveryPrice":1.77,"catEntryId":173819,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0016","partNumber":"997083-0016","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.98,"unitPrice":4.99,"vendorRating":2,"vendorShopName":"mirakl0017","published":true,"vendorNumberOfRatings":16,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173820,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0017","partNumber":"997083-0017","premiumVendor":false}]}';
    } else if (options.test == 'test-3') {
      response.content = '{"mint":{"lowestPrice":1.1,"total":13},"preOwned":{"lowestPrice":1.28,"total":12},"mintItems":[{"provenance":"Mint","totalPrice":104.33,"unitPrice":101.2,"vendorRating":4,"vendorShopName":"mirakl0007","published":true,"vendorNumberOfRatings":88,"availableQuantity":100,"deliveryPrice":3.13,"catEntryId":173810,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0007","partNumber":"997083-0007","premiumVendor":false},{"provenance":"Mint","totalPrice":1.6,"unitPrice":1.1,"vendorRating":2,"vendorShopName":"mirakl0008","published":true,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":0.5,"catEntryId":173811,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0008","partNumber":"997083-0008","premiumVendor":false},{"provenance":"Mint","totalPrice":42.0,"unitPrice":41.2,"vendorRating":1,"vendorShopName":"mirakl0009","published":true,"vendorNumberOfRatings":101,"availableQuantity":100,"deliveryPrice":0.8,"catEntryId":173812,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0009","partNumber":"997083-0009","premiumVendor":false},{"provenance":"Mint","totalPrice":1.1,"unitPrice":1.1,"vendorRating":0,"vendorShopName":"mirakl0010","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173813,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0010","partNumber":"997083-0010","premiumVendor":false},{"provenance":"Mint","totalPrice":2.4,"unitPrice":1.2,"vendorRating":5,"vendorShopName":"mirakl0011","published":true,"vendorNumberOfRatings":22,"availableQuantity":100,"deliveryPrice":1.2,"catEntryId":173814,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0011","partNumber":"997083-0011","premiumVendor":false},{"provenance":"Mint","totalPrice":null,"unitPrice":null,"vendorRating":0,"vendorShopName":"mirakl0001","published":true,"vendorNumberOfRatings":0,"availableQuantity":null,"deliveryPrice":null,"catEntryId":173804,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0001","partNumber":"997083-0001","premiumVendor":false},{"provenance":"Mint","totalPrice":5.3,"unitPrice":1.1,"vendorRating":4,"vendorShopName":"mirakl0012","published":true,"vendorNumberOfRatings":81,"availableQuantity":100,"deliveryPrice":4.2,"catEntryId":173815,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0012","partNumber":"997083-0012","premiumVendor":false},{"provenance":"Mint","totalPrice":91.2,"unitPrice":91.1,"vendorRating":1,"vendorShopName":"mirakl0002","published":true,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173805,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0002","partNumber":"997083-0002","premiumVendor":false},{"provenance":"Mint","totalPrice":7.34,"unitPrice":1.2,"vendorRating":3,"vendorShopName":"mirakl0013","published":true,"vendorNumberOfRatings":19,"availableQuantity":100,"deliveryPrice":6.14,"catEntryId":173816,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0013","partNumber":"997083-0013","premiumVendor":false},{"provenance":"Mint","totalPrice":1.49,"unitPrice":1.2,"vendorRating":2,"vendorShopName":"mirakl0003","published":true,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173806,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0003","partNumber":"997083-0003","premiumVendor":false},{"provenance":"Mint","totalPrice":11.23,"unitPrice":11.1,"vendorRating":3,"vendorShopName":"mirakl0004","published":true,"vendorNumberOfRatings":99,"availableQuantity":100,"deliveryPrice":0.13,"catEntryId":173807,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0004","partNumber":"997083-0004","premiumVendor":false},{"provenance":"Mint","totalPrice":2.71,"unitPrice":1.2,"vendorRating":4,"vendorShopName":"mirakl0005","published":true,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":1.51,"catEntryId":173808,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0005","partNumber":"997083-0005","premiumVendor":false},{"provenance":"Mint","totalPrice":4.09,"unitPrice":1.1,"vendorRating":5,"vendorShopName":"mirakl0006","published":true,"vendorNumberOfRatings":13,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173809,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0006","partNumber":"997083-0006","premiumVendor":false}],"preOwnedItems":[{"provenance":"PreOwned","totalPrice":8.28,"unitPrice":3.99,"vendorRating":3,"vendorShopName":"mirakl0018","published":true,"vendorNumberOfRatings":14,"availableQuantity":100,"deliveryPrice":4.29,"catEntryId":173821,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0018","partNumber":"997083-0018","premiumVendor":false},{"provenance":"PreOwned","totalPrice":208.49,"unitPrice":207.39,"vendorRating":1,"vendorShopName":"mirakl0019","published":true,"vendorNumberOfRatings":77,"availableQuantity":100,"deliveryPrice":1.1,"catEntryId":173822,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0019","partNumber":"997083-0019","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.99,"unitPrice":7.5,"vendorRating":0,"vendorShopName":"mirakl0020","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":0.49,"catEntryId":173823,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0020","partNumber":"997083-0020","premiumVendor":false},{"provenance":"PreOwned","totalPrice":52.5,"unitPrice":50.0,"vendorRating":2,"vendorShopName":"mirakl0021","published":true,"vendorNumberOfRatings":155,"availableQuantity":100,"deliveryPrice":2.5,"catEntryId":173824,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0021","partNumber":"997083-0021","premiumVendor":false},{"provenance":"PreOwned","totalPrice":5.99,"unitPrice":2.99,"vendorRating":2,"vendorShopName":"mirakl0022","published":true,"vendorNumberOfRatings":0,"availableQuantity":100,"deliveryPrice":3.0,"catEntryId":173825,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0022","partNumber":"997083-0022","premiumVendor":false},{"provenance":"PreOwned","totalPrice":24.98,"unitPrice":9.99,"vendorRating":3,"vendorShopName":"mirakl0023","published":true,"vendorNumberOfRatings":2,"availableQuantity":100,"deliveryPrice":14.99,"catEntryId":173826,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0023","partNumber":"997083-0023","premiumVendor":false},{"provenance":"PreOwned","totalPrice":2.0,"unitPrice":2.0,"vendorRating":5,"vendorShopName":"mirakl0024","published":true,"vendorNumberOfRatings":18,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173827,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0024","partNumber":"997083-0024","premiumVendor":false},{"provenance":"PreOwned","totalPrice":6.99,"unitPrice":6.99,"vendorRating":6,"vendorShopName":"mirakl0025","published":true,"vendorNumberOfRatings":23,"availableQuantity":100,"deliveryPrice":0.0,"catEntryId":173828,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0025","partNumber":"997083-0025","premiumVendor":false},{"provenance":"PreOwned","totalPrice":51.2,"unitPrice":51.1,"vendorRating":1,"vendorShopName":"mirakl0014","published":true,"vendorNumberOfRatings":51,"availableQuantity":100,"deliveryPrice":0.1,"catEntryId":173817,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0014","partNumber":"997083-0014","premiumVendor":false},{"provenance":"PreOwned","totalPrice":1.28,"unitPrice":0.99,"vendorRating":2,"vendorShopName":"mirakl0015","published":true,"vendorNumberOfRatings":148,"availableQuantity":100,"deliveryPrice":0.29,"catEntryId":173818,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0015","partNumber":"997083-0015","premiumVendor":false},{"provenance":"PreOwned","totalPrice":9.87,"unitPrice":8.1,"vendorRating":5,"vendorShopName":"mirakl0016","published":true,"vendorNumberOfRatings":259,"availableQuantity":100,"deliveryPrice":1.77,"catEntryId":173819,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0016","partNumber":"997083-0016","premiumVendor":false},{"provenance":"PreOwned","totalPrice":7.98,"unitPrice":4.99,"vendorRating":2,"vendorShopName":"mirakl0017","published":true,"vendorNumberOfRatings":16,"availableQuantity":100,"deliveryPrice":2.99,"catEntryId":173820,"class":"classcom.salmon.ec.marketplace.dao.MarketplaceItem","vendorShopId":"0017","partNumber":"997083-0017","premiumVendor":false}]}';
    } else if (options.test == 'test-4') {
      response.content = '{"mint":{"lowestPrice":1.1,"total":0},"preOwned":{"lowestPrice":1.28,"total":0},"mintItems":[],"preOwnedItems":[]}';
    } else if (options.test == 'test-5') {
      response.content = '{"supplier": {"name": "MP8","ratingStars": 4,"ratingCount": 500,"sellerIntro": "<p>Dushy AJAX test. Some text to describe the seller and the delivery information here.</p><p>Some more information about delivery options here.</p>"},"shipping": {"UK": "1 - 2","Europe": "4 - 3","World": "10 - 15"}}';
    }

    callback(response);
  } else {
    // production --
    if (options) {
      var i = 0;

      url += '?';

      for (var option in options) {
        i++;
        url += option + '=' + options[option];

        if (Object.keys(options).length != i) {
          url += '&';
        }
      }
    }

    console.log(url);

    if (window.XMLHttpRequest) {
      request = new XMLHttpRequest;
    } else {
      request = new ActiveXObject('Msxml2.XMLHTTP');
    }

    request.open(method, url, true);
    request.send(url);
    /*jshint -W069 */
    request.onreadystatechange = function() {
      switch (this.readyState) {
        case 1:
          // data['status'] = 1; 
          data['content'] = null;
          break;
        case 2:
          // data['status'] = 2; 
          data['content'] = null;
          break;
        case 3:
          // data['status'] = 3; 
          data['content'] = null;
          break;
        case 4:
          // data['status'] = 4; 
          data['content'] = getResponse(this);
          data['status'] = this.status;

          callback(data);

          break;
      }
    };
    // -- production 
  }
};
